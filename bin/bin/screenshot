#!/bin/sh

# Screenshot utility using maim

SCREENSHOTS_DIR=$HOME/pics/scrots
STAMP=$(cat /dev/urandom | tr -dc A-Za-z0-9 | head -c 13 ; echo '')

FILENAME=$SCREENSHOTS_DIR/$STAMP.scrot.png

if [[ "$1" = "-s" ]] || [[ "$1" = "--selection" ]]; then 
    # Selection to file
    notify-send 'Select area to capture.' --urgency low
    maim -u -m 2 -s $FILENAME
    if [[ "$?" = "0" ]]; then
            notify-send "Screenshot taken." --urgency low
    fi
else
    # Full screenshot
    maim -u -m 2 $FILENAME
    notify-send "Screenshot taken." --urgency low
fi
