#!/bin/sh

poweroff="systemctl poweroff"
reboot="systemctl reboot"
logout="betterlockscreen -l dim"
hibernate="systemctl hibernate"
suspend="systemctl suspend"

options=$'poweroff\nreboot\nlogout\nhibernate\nsuspend'

cmd='rofi -dmenu -i -p execute: '

if [ -t 0 ]; then
    cmd="fzf"
fi

result="$(echo "$options" | $cmd)"

# If no option was chosen
if [ -z "$result" ]; then
    exit 1
else
    case "$result" in
        "poweroff")
            eval "$poweroff"
            ;;
        "reboot")
            eval "$reboot"
            ;;
        "logout")
            eval "$logout"
            ;;
        "hibernate")
            eval "$hibernate"
            ;;
        "suspend")
            eval "$suspend"
            ;;
        *)
            exit 1
            ;;
        esac
fi

